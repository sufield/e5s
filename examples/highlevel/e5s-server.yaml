# e5s server configuration file

spire:
  # Path to SPIRE Agent's Workload API socket
  # Default for SPIRE: unix:///tmp/spire-agent/public/api.sock
  workload_socket: unix:///tmp/spire-agent/public/api.sock

  # (Optional) How long to wait for identity from SPIRE before failing startup
  # If not set, defaults to 30s
  # initial_fetch_timeout: 30s

server:
  # Address to listen on for mTLS connections
  listen_addr: ":8443"

  # Client authorization policy (exactly one of these should be set)

  # Option 1: Allow ONLY this specific client SPIFFE ID
  # allowed_client_spiffe_id: "spiffe://example.org/workload-client"

  # Option 2: Allow any client in this trust domain (used in this example)
  allowed_client_trust_domain: "example.org"
